<!DOCTYPE html>
<html>

<head>
  <title>SampleApp</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
</head>

<body>
  <%# グリッドシステム導入のため、conteinerで枠を作成 %>
  <div class="container-fluid">


    <%# ここからヘッダー %>
    <header>
      <!--ナビゲーション-->
      <%# ログイン中は上、ログインしていないときは下 %>
      <% if @current_user %>
      <ul class="header-menus">
        <li>
          <%= link_to(@current_user.name,"/users/#{@current_user.id}") %>
        </li>
        <li>
          <%= link_to("投稿一覧","/posts/index") %>
        </li>
        <li>
          <%= link_to("新規投稿","/posts/new") %>
        </li>
        <li>
          <%= link_to("ユーザー一覧",'/users/index') %>
        </li>
        <li>
          <%= link_to("ログアウト",'/logout',{method: :post}) %>
      </ul>
      
      <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <%= link_to("TweetApp","/",class: 'navbar-brand text-light h2 mr-auto')%>
        <ul class="navbar-nav">
          <li class="nav-item"><%= link_to(@current_user.name,"/users/#{@current_user.id}", class: 'nav-link active') %></li>
          <li class="nav-item"><%= link_to("投稿一覧","/posts/index", class: 'nav-link')%></li>
          <li class="nav-item"><%= link_to("新規投稿","/posts/new", class: 'nav-link')%></li>
          <li class="nav-item"><%= link_to("ユーザー一覧",'/users/index', class: 'nav-link ') %></li>
          <li class="nav-item"><%= link_to("ログアウト",'/logout',method: :post, class: 'nav-link') %></li>
        </ul>
      </nav>


      <% else %>
      <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <%= link_to("TweetApp","/",class: 'navbar-brand text-light h2 mr-auto')%>
        <ul class="navbar-nav">
          <li class="nav-item"><%= link_to("TweetAppとは","/about", class: 'nav-link active')%></li>
          <li class="nav-item"><%= link_to("ユーザー作成", '/signup', class: 'nav-link')%></li>
          <li class="nav-item"><%= link_to("ログイン",'/login', class: 'nav-link') %></li>
        </ul>
      </nav>
      <% end %>
      <%# ログイン中は上、ログインしていないときは下ここまで %>
    </header>
    <%# ここまでヘッダー %>
    <%# ここからフラッシュ機能 %>
    <!-- flash[:notice]に代入されたメッセージを表示してください -->
    <% if flash[:notice] != nil%>
    <div class="flash">
      <%= flash[:notice] %>
    </div>
    <% end %>
    <%# ここまでフラッシュ機能 %>

    <%# ここからメインコンテンツ %>
    <%= yield %>
    <%# ここまでメインコンテンツ %>
    <%# ここからフッター %>
    <footer>
    </footer>
    <%# ここからフッター %>
  </div>
</body>

</html>